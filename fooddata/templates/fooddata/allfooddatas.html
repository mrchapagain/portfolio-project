{% extends "fooddata/base-extended.html" %}
{% load static %}

<!--- Start of User-input section for food item -->
  {% block info_select_baseextended_fooditem %}
    <form action="/index.html" method="get">
      <label for= 'item_list' > <strong> Choose your Food group from here :> </strong> </label>
      <input list='item_list' name='item_list' id='item_list'>
      
      <datalist id='item_list'>
      {% for item_name in df_rows_list %}
      <option value={{ item_name }}>
      {% endfor %}
      </datalist>
      
      <input type="submit">
    </form>
    <p><strong>Note:</strong> Choose the food-category from dropdown list to explore detail information.</p><hr> 
    <div><button onClick="window.location.reload();"> <h5>Refresh Here to get new item</h5></button></div><br>
  {% endblock info_select_baseextended_fooditem %}


<!--- Start of info-display section for food item -->
  {% block info_display_baseextended_fooditem %}
    <!--- Single data-frame of the seleted item-->
      <div class="text-center container" style="background-color:#e8f0ef">
        <h4> CO2 contribution from seleted food item</h4>
        <table>
        <tr>
            {% for col in name_choosen.columns %}
            <th style="white-space:nowrap"> {{col}} </th>              
            {% endfor %}
        </tr>
        {% for index, row in name_choosen.iterrows %}
        <tr>
            {% for cell in row %}
            <td> {{cell}} </td>
            {% endfor %}
        </tr>
        {% endfor %}
        </table>        
      </div> <hr>

    <!--- Single chart of the seleted item-->
    <!--- Group chart of the seleted food category-->
    <div class="container" style="background-color:#e8f0ef">
      <h3> </h3>
      
      <!--Bar chart for category-->
      <div class="col">
        <h4> Share of CO2 contribution from seleted food item: {{name_choosen.Product_en.values}}</h4> <hr>
          {% if co2_foodplots_item %}
            <a> <img class="bd-placeholder-img card-img-top" class= "img-fluid" src="data:image/png;base64, {{ co2_foodplots_item|safe }}" alt="CO2 contribiution bar chart for food category" style="width:100%"/> </a>
          {% endif %}
      </div>

      <div class="btn-group"> <br>
        <button type="button" class="btn btn-sm btn-outline-secondary">Click the image for bigger view </button>
      </div>

    </div> <hr>

  {% endblock info_display_baseextended_fooditem %}


<!--- Start of User-input section for food group -->
  {% block info_select_baseextended_foodgroup %}
      <form action="/index.html" method="get">
          <label for= 'item_list' > <strong> Choose your Food group from here :> </strong> </label>
          <input list='item_list' name='item_list' id='item_list'>
          
          <datalist id='item_list'>
          {% for item_name in df_rows_list %}
          <option value={{ item_name }}>
          {% endfor %}
          </datalist>
          
          <input type="submit">
      </form>
    <p><strong>Note:</strong> Choose the food-category from dropdown list to explore detail information.</p><hr>
  {% endblock info_select_baseextended_foodgroup %}


  {% block info_display_baseextended_foodgroup %}
    <!--- Group chart of the seleted food category-->
    <div class="container" style="background-color:#e8f0ef">
      <h3> </h3>
      
      <!--Bar chart for category-->
      <div class="col">
        <h4> Bar graph of CO2 contribution from seleted food category</h4>  <hr>
          {% if co2_foodplots_category %}
            <a> <img class="bd-placeholder-img card-img-top" class= "img-fluid" src="data:image/png;base64, {{ co2_foodplots_category|safe }}" alt="CO2 contribiution bar chart for food category" style="width:100%"/> </a>
          {% endif %}
      </div>

      <div class="btn-group"> <br>
        <button type="button" class="btn btn-sm btn-outline-secondary">Click the image for bigger view </button>
      </div>

    </div> <hr>
    {% endblock info_display_baseextended_foodgroup %}
